---
layout: default
title: Sermon Analytics
hero_banner: true
hero_title: SERMON ANALYTICS
hero_subtitle: EXPLORING BIBLICAL INSIGHTS
hero_description: Discover patterns and insights from the sermon library.
quote_text: "Exalting our Saviour ~ Edifying the Believer ~ Evangelizing the World"
use_charts: true
custom_js: analytics-optimized
---

<div class="container">
  <div id="loadingSection" class="text-center">
    <div class="loading-spinner"></div>
    <p class="loading-text">Loading analytics data...</p>
  </div>
  
  <div id="analyticsContent" style="display: none;">
    <!-- Page Introduction -->
    <div class="page-intro">
      <h2 class="content-section-header">Biblical Insights Dashboard</h2>
      <p>This dashboard provides visualization of Bible references throughout the sermon library. Explore which books, chapters, and verses are most frequently referenced in the pastor's teachings.</p>
    </div>
    
    <!-- Time Filter -->
    <div class="filter-controls">
      <div class="content-card">
        <h3>Filter Analytics by Time Period</h3>
        <p>Select a specific timeframe to focus your analysis.</p>
        <select id="timeFilterSelect" class="form-control">
          <option value="all">All Time</option>
          <!-- Dynamically populated by JavaScript -->
        </select>
      </div>
    </div>
    
    <!-- Key Statistics -->
    <h2 class="content-section-header">Key Statistics</h2>
    <div class="stats-cards">
      <div class="stat-card">
        <div class="stat-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 20V10"></path><path d="M18 20V4"></path><path d="M6 20v-4"></path></svg>
        </div>
        <div class="stat-value" id="totalSermonsValue">...</div>
        <div class="stat-label">Total Sermons</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1-2.5-2.5z"></path><path d="M8 7h6"></path><path d="M8 11h8"></path><path d="M8 15h6"></path></svg>
        </div>
        <div class="stat-value" id="totalReferencesValue">...</div>
        <div class="stat-label">Bible References</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 8l5 5 5-5"></path><path d="M12 16l5-5 5 5"></path><path d="M2 12h20"></path></svg>
        </div>
        <div class="stat-value" id="topBookValue">...</div>
        <div class="stat-label">Most Referenced Book</div>
      </div>
    </div>
    
    <!-- Bible Books Chart -->
    <h2 class="content-section-header">Bible Book References</h2>
    <div class="analytics-card">
      <h3>Frequency of Bible Book Citations</h3>
      <p class="analytics-description">Explore which books of the Bible are most frequently referenced across all sermons.</p>
      <div class="chart-container">
        <canvas id="bibleReferencesChart"></canvas>
      </div>
    </div>
    
    <!-- Testament & Chapters Section -->
    <h2 class="content-section-header">Detailed Reference Analysis</h2>
    <div class="row">
      <div class="col-md-6">
        <div class="analytics-card">
          <h3>Testament Distribution</h3>
          <p class="analytics-description">Proportion of Old vs. New Testament references in the sermon library.</p>
          <div class="chart-container" style="height: 300px;">
            <canvas id="testamentChart"></canvas>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="analytics-card">
          <h3>Top Chapters Referenced</h3>
          <p class="analytics-description">Most frequently cited Bible chapters across the sermon library.</p>
          <div id="topChaptersContainer">
            <div class="reference-list" id="topChaptersList"></div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Recent Sermons Section -->
    <h2 class="content-section-header">Recent Sermons</h2>
    <div class="analytics-card">
      <h3>Latest Messages from Fellowship Baptist Church</h3>
      <p class="analytics-description">Browse the most recent sermons from our church library.</p>
      <div id="recentSermonsContainer">
        <div class="loading-spinner"></div>
        <p class="text-center">Loading sermon data...</p>
      </div>
    </div>
  </div>
  
  <!-- Error Section -->
  <div id="errorSection" style="display: none;">
    <div class="analytics-card text-center">
      <h2>Error Loading Data</h2>
      <p id="errorMessage">Sorry, there was an error loading the analytics data. Please try again later.</p>
      <button id="retryButton" class="btn btn-primary">Retry</button>
    </div>
  </div>
</div>

<!-- Include the simplified recent sermons script -->
<script src="{{ '/assets/js/simplified-recent-sermons.js' | relative_url }}"></script>

<style>
  .filter-controls {
    margin-bottom: 2rem;
  }
  
  .filter-card {
    background-color: white;
    padding: 1.25rem;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 1rem;
  }
  
  .filter-card label {
    font-weight: 600;
    color: var(--color-heading);
    margin-right: 0.5rem;
  }
  
  #timeFilterSelect {
    min-width: 200px;
    padding: 0.5rem;
    border: 1px solid var(--color-border);
    border-radius: 4px;
    background-color: white;
    color: var(--color-text);
    font: inherit;
  }
  
  .stats-cards {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
  }
  
  .stat-card {
    background: white;
    border-radius: 8px;
    padding: 1.5rem;
    text-align: center;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    transition: transform 0.3s ease;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  
  .stat-card:hover {
    transform: translateY(-5px);
  }
  
  .stat-icon {
    color: var(--color-primary);
    margin-bottom: 0.5rem;
    width: 40px;
    height: 40px;
  }
  
  .stat-value {
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--color-primary);
    margin: 0.5rem 0;
    line-height: 1;
  }
  
  .stat-label {
    font-size: 1rem;
    color: var(--color-text);
    font-weight: 500;
  }
  
  .analytics-card {
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    padding: 1.5rem;
    margin-bottom: 2rem;
  }
  
  .analytics-card h2 {
    margin-bottom: 0.5rem;
    color: var(--color-heading);
    font-weight: 600;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid var(--color-border);
  }
  
  .analytics-description {
    color: var(--color-text);
    margin-bottom: 1.5rem;
    font-size: 0.95rem;
  }
  
  .chart-container {
    position: relative;
    height: 400px;
    max-width: 100%;
  }
  
  .chart-instruction {
    text-align: center;
    margin-top: 10px;
    font-style: italic;
    color: #666;
    font-size: 0.9rem;
  }
  
  .reference-list {
    max-height: 300px;
    overflow-y: auto;
    border: 1px solid var(--color-border);
    border-radius: 4px;
    background-color: white;
  }
  
  .reference-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 16px;
    border-bottom: 1px solid var(--color-border);
    cursor: pointer;
    transition: background-color 0.2s, transform 0.2s;
    position: relative;
  }
  
  .reference-item:last-child {
    border-bottom: none;
  }
  
  .reference-item:hover {
    background-color: rgba(46, 163, 242, 0.05);
    transform: translateX(3px);
  }
  
  .reference-book {
    font-weight: 600;
    color: var(--color-heading);
  }
  
  .reference-count {
    background-color: var(--color-primary);
    color: white;
    border-radius: 20px;
    padding: 3px 10px;
    font-size: 0.8rem;
    font-weight: 600;
  }
  
  .view-link {
    position: absolute;
    right: 16px;
    color: var(--color-primary);
    font-size: 0.9rem;
    opacity: 0;
    transition: opacity 0.2s;
  }
  
  .reference-item:hover .view-link {
    opacity: 1;
  }
  
  .sermon-list {
    display: grid;
    gap: 1rem;
  }
  
  .sermon-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.25rem;
    border-radius: 8px;
    background-color: #f9f9f9;
    transition: transform 0.2s;
  }
  
  .sermon-item:hover {
    transform: translateY(-3px);
  }
  
  .sermon-info {
    flex: 1;
  }
  
  .sermon-title {
    margin: 0 0 0.5rem;
    font-size: 1.1rem;
    color: var(--color-heading);
  }
  
  .sermon-date {
    color: var(--color-text);
    margin: 0;
    font-size: 0.9rem;
  }
  
  .loading-spinner {
    border: 4px solid rgba(0, 0, 0, 0.1);
    border-radius: 50%;
    border-top: 4px solid var(--color-primary);
    width: 40px;
    height: 40px;
    animation: spin 1s linear infinite;
    margin: 2rem auto;
  }
  
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
  
  @media (max-width: 768px) {
    .sermon-item {
      flex-direction: column;
      align-items: flex-start;
    }
    
    .sermon-item .btn {
      margin-top: 1rem;
      width: 100%;
    }
    
    .filter-card {
      flex-direction: column;
      align-items: flex-start;
    }
    
    #timeFilterSelect {
      width: 100%;
    }
    
    .view-link {
      opacity: 1;
      position: static;
      display: block;
      margin-top: 0.5rem;
    }
  }
</style>