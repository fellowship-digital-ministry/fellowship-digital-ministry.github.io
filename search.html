---
layout: default
title: Chat about Sermons
hero_banner: true
hero_title: CHAT ABOUT SERMONS
hero_subtitle: EXPLORE BIBLICAL TEACHINGS
hero_description: Ask questions about sermon content and get AI-generated answers based on the sermon library.
quote_text: "Exalting our Saviour ~ Edifying the Believer ~ Evangelizing the World"
---

<div class="container">
  <!-- Language Selector -->
  <div class="language-selector">
    <label for="languageSelect" class="sr-only">Select language</label>
    <select id="languageSelect" aria-label="Select language">
      <option value="en" selected>English</option>
      <option value="es">Español</option>
      <option value="zh">中文</option>
    </select>
  </div>

  <!-- Claude-Style Interface -->
  <div class="claude-interface">
    <!-- API Status Banner -->
    <div id="api-status-banner" class="claude-api-status" role="alert" aria-live="assertive">
      <span id="api-status-message" data-i18n="api-connection-issue">API connection issue detected.</span>
      <button id="retry-connection" class="claude-retry-button" data-i18n="retry">Retry</button>
    </div>
    
    <!-- Chat Panel -->
    <div class="claude-chat-panel">
      <div id="messages" class="claude-messages" aria-label="Conversation with sermon search assistant" role="log">
        <!-- Messages will be inserted here by JavaScript -->
      </div>
      
      <div class="claude-input-area">
        <form id="chatForm">
          <div class="claude-input-container">
            <label for="queryInput" class="sr-only">Ask a question about the sermons</label>
            <textarea 
              id="queryInput" 
              class="claude-input" 
              placeholder="Ask a question about the sermons..." 
              rows="1" 
              aria-label="Enter your question"
              autocomplete="off"
              spellcheck="true"
            ></textarea>
            <button type="submit" class="claude-submit-button" aria-label="Send message">
              <svg class="claude-submit-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path>
              </svg>
            </button>
          </div>
        </form>
        <div class="conversation-controls">
          <button id="clearConversation" class="control-button" data-i18n="clear-conversation">Clear Conversation</button>
        </div>
      </div>
    </div>
    
    <!-- Sources Panel -->
    <div id="sourcesPanel" class="claude-sources-panel" aria-label="Source information" role="complementary">
      <button class="claude-sources-close" id="closeSourcesPanel" aria-label="Close sources panel">×</button>
      <div class="claude-sources-panel-content" id="sourcesPanelContent">
        <!-- Source content will be inserted here -->
      </div>
    </div>
  </div>

  <!-- Help Section -->
  <div class="info-section" aria-labelledby="how-to-use-heading">
    <h2 id="how-to-use-heading" class="content-section-header" data-i18n="how-to-use">How to Use This Tool</h2>
    
    <div class="row">
      <div class="col-md-6">
        <div class="content-card">
          <h3 data-i18n="sample-questions">Sample Questions</h3>
          <p data-i18n="examples-intro">Here are some examples of questions you can ask:</p>
          <ul class="example-questions">
            <li data-i18n="example-1">"How does a person get to heaven?"</li>
            <li data-i18n="example-2">"What is the Trinity?"</li>
            <li data-i18n="example-3">"How should Christians live?"</li>
            <li data-i18n="example-4">"Why read the King James Bible?"</li>
            <li data-i18n="example-5">"Who is Melchizedek?"</li>
          </ul>
        </div>
      </div>
    
      <div class="col-md-6">
        <div class="content-card">
          <h3 data-i18n="about-tool">About This Tool</h3>
          <p data-i18n="search-explanation">This search tool uses artificial intelligence to analyze sermon transcripts and provide relevant information.</p>
          <p data-i18n="ai-features">When you ask a question, the AI will:</p>
          <ul>
            <li data-i18n="feature-1">Search through the entire sermon library</li>
            <li data-i18n="feature-2">Find the most relevant content to your question</li>
            <li data-i18n="feature-3">Provide direct links to video timestamps</li>
            <li data-i18n="feature-4">Show you the exact context where information was found</li>
          </ul>
          <p data-i18n="answers-source">All answers are based solely on the pastor's actual sermon content.</p>
        </div>
      </div>
    </div>
    
    <div class="content-card">
      <h3 data-i18n="tips">Tips for Better Results</h3>
      <div class="row">
        <div class="col-md-6">
          <ul>
            <li data-i18n="tip-1">Be specific in your questions</li>
            <li data-i18n="tip-2">Include Bible references if relevant</li>
            <li data-i18n="tip-3">Ask about specific topics or passages</li>
          </ul>
        </div>
        <div class="col-md-6">
          <ul>
            <li data-i18n="tip-4">Try reformulating if you don't get a helpful answer</li>
            <li data-i18n="tip-5">You can ask follow-up questions for clarification</li>
            <li data-i18n="tip-6">Check the video links to hear the full context</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Keyboard Shortcuts Info Dialog -->
<div id="keyboardShortcutsDialog" class="keyboard-shortcuts-dialog" role="dialog" aria-labelledby="keyboardShortcutsTitle" aria-hidden="true" tabindex="-1" style="display: none;">
  <div class="keyboard-shortcuts-content">
    <h3 id="keyboardShortcutsTitle">Keyboard Shortcuts</h3>
    <button class="keyboard-shortcuts-close" aria-label="Close keyboard shortcuts dialog">×</button>
    <div class="keyboard-shortcuts-list">
      <div class="keyboard-shortcut">
        <span class="keyboard-key">Ctrl</span> + <span class="keyboard-key">/</span>
        <span class="keyboard-description">Focus on search input</span>
      </div>
      <div class="keyboard-shortcut">
        <span class="keyboard-key">Esc</span>
        <span class="keyboard-description">Close sources panel or dialog</span>
      </div>
      <div class="keyboard-shortcut">
        <span class="keyboard-key">Enter</span>
        <span class="keyboard-description">Send message</span>
      </div>
      <div class="keyboard-shortcut">
        <span class="keyboard-key">Shift</span> + <span class="keyboard-key">Enter</span>
        <span class="keyboard-description">Add a new line in message</span>
      </div>
    </div>
  </div>
</div>

<!-- IMPORTANT: Load main scripts that handle core functionality -->
<script>
/**
 * Global variables and configurations
 */
let isFirstLoad = true;
const API_URL = '{{ site.api_url }}' || 'https://sermon-search-api-8fok.onrender.com';
let conversationHistory = [];
let currentLanguage = 'en';

// Show keyboard shortcuts dialog
document.addEventListener('DOMContentLoaded', function() {
  // Create keyboard shortcuts button
  const keyboardButton = document.createElement('button');
  keyboardButton.className = 'keyboard-shortcuts-button';
  keyboardButton.setAttribute('aria-label', 'Show keyboard shortcuts');
  keyboardButton.innerHTML = '⌨️';
  
  // Add to language selector container
  const languageSelector = document.querySelector('.language-selector');
  if (languageSelector) {
    languageSelector.appendChild(keyboardButton);
  }
  
  // Set up dialog
  const dialog = document.getElementById('keyboardShortcutsDialog');
  const closeButton = dialog.querySelector('.keyboard-shortcuts-close');
  
  // Show dialog on button click
  keyboardButton.addEventListener('click', function() {
    dialog.style.display = 'flex';
    dialog.setAttribute('aria-hidden', 'false');
    dialog.focus();
  });
  
  // Close dialog
  closeButton.addEventListener('click', function() {
    dialog.style.display = 'none';
    dialog.setAttribute('aria-hidden', 'true');
  });
  
  // Close on click outside
  dialog.addEventListener('click', function(e) {
    if (e.target === dialog) {
      dialog.style.display = 'none';
      dialog.setAttribute('aria-hidden', 'true');
    }
  });
  
  // Close on escape key
  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape' && dialog.style.display === 'flex') {
      dialog.style.display = 'none';
      dialog.setAttribute('aria-hidden', 'true');
    }
  });
});
</script>

<style>
/* Essential styling for keyboard shortcuts dialog */
.keyboard-shortcuts-button {
  background: transparent;
  border: none;
  font-size: 1.5rem;
  cursor: pointer;
  margin-left: 0.75rem;
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  transition: all 0.2s ease;
}

.keyboard-shortcuts-button:hover {
  background-color: rgba(0,0,0,0.05);
}

.keyboard-shortcuts-dialog {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0,0,0,0.5);
  z-index: 100;
  display: none;
  align-items: center;
  justify-content: center;
}

.keyboard-shortcuts-content {
  background-color: white;
  border-radius: 8px;
  padding: 1.5rem;
  width: 90%;
  max-width: 500px;
  max-height: 90vh;
  overflow-y: auto;
  position: relative;
  box-shadow: 0 4px 20px rgba(0,0,0,0.2);
}

.keyboard-shortcuts-close {
  position: absolute;
  top: 0.75rem;
  right: 0.75rem;
  background: transparent;
  border: none;
  font-size: 1.5rem;
  cursor: pointer;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
}

.keyboard-shortcuts-close:hover {
  background-color: rgba(0,0,0,0.05);
}

.keyboard-shortcuts-list {
  margin-top: 1rem;
}

.keyboard-shortcut {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.75rem 0;
  border-bottom: 1px solid #eee;
}

.keyboard-key {
  background-color: #f5f5f5;
  border: 1px solid #ddd;
  border-radius: 4px;
  padding: 0.25rem 0.5rem;
  font-family: monospace;
  font-weight: bold;
  margin-right: 0.25rem;
}

.keyboard-description {
  color: #555;
}

/* Improved accessibility focus styles */
:focus {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
}

.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Dark mode support for keyboard shortcuts dialog */
@media (prefers-color-scheme: dark) {
  .keyboard-shortcuts-content {
    background-color: #1f2937;
    color: #e5e7eb;
  }
  
  .keyboard-shortcuts-close {
    color: #e5e7eb;
  }
  
  .keyboard-key {
    background-color: #4b5563;
    border-color: #6b7280;
    color: #e5e7eb;
  }
  
  .keyboard-description {
    color: #d1d5db;
  }
  
  .keyboard-shortcut {
    border-color: #4b5563;
  }
}
</style>