/*
 * Enhanced Mobile Styles - Improved Contrast and Readability
 * This file provides a cohesive color scheme with optimal contrast
 * for all mobile interfaces, ensuring WCAG 2.1 AA compliance
 */

 @media (max-width: 768px) {
  /* ===== CORE TEXT COLORS ===== */
  /* Base text - dark enough for excellent contrast on white */
  body {
    color: #222222; /* Dark gray for main text */
  }
  
  /* Headings - nearly black for maximum contrast */
  h1, h2, h3, h4, h5, h6, .section-header, .content-section-header {
    color: #111111; /* Almost black for headings */
    font-weight: 700; /* Bold headings */
  }
  
  /* Standard text elements */
  p, li, td, th, blockquote, label, .lead,
  .claude-message-content,
  .claude-message-bot .claude-message-content {
    color: #222222; /* Consistent dark gray */
  }
  
  /* ===== LINKS AND INTERACTIVE ELEMENTS ===== */
  /* Links - accessible blue with sufficient contrast */
  a, .bible-reference, .view-link, .source-link, .timestamp-link {
    color: #0056b3; /* Accessible blue */
    font-weight: 600; /* Semi-bold for emphasis */
    text-decoration: underline; /* Ensures links are identifiable */
  }
  
  a:hover, .bible-reference:hover, .view-link:hover, 
  .source-link:hover, .timestamp-link:hover {
    color: #003d80; /* Darker on hover */
  }
  
  /* Navigation elements */
  nav a, .nav-mobile a, .header-title {
    color: #111111 !important; 
    font-weight: 700; /* Bold for navigation */
  }
  
  /* ===== SECONDARY TEXT ===== */
  /* Secondary text that's often lighter but still needs to be readable */
  .text-light, .text-muted, .source-date, .timestamp,
  .sermon-date, .source-meta, .footer-info p {
    color: #444444 !important; /* Medium gray - light but still readable */
    font-weight: 500; /* Medium weight improves readability */
  }
  
  /* ===== SOURCE ELEMENTS ===== */
  /* Source titles */
  .claude-source-title {
    color: #111111 !important; /* Near black */
    font-weight: 700; /* Bold */
    font-size: 1.1rem;
  }
  
  /* Source text and previews */
  .claude-source-text-preview,
  .claude-source-text,
  .source-text, 
  .context-quote, 
  .occurrence-text {
    color: #222222 !important; /* Dark gray */
    font-weight: 500; /* Medium weight */
    font-size: 1rem;
  }
  
  /* Source metadata */
  .claude-source-meta,
  .claude-source-date {
    color: #444444 !important; /* Medium gray */
    font-weight: 500;
  }
  
  /* Timestamps and match indicators */
  .claude-source-timestamp,
  .claude-source-match {
    color: #0056b3 !important; /* Accessible blue */
    font-weight: 600; /* Semi-bold */
  }
  
  /* "View full text" and similar action links */
  .claude-source-text-view-button, 
  .view-full-text,
  .bible-reference, 
  .psalm-link {
    color: #0056b3 !important; /* Accessible blue */
    font-weight: 600; /* Semi-bold */
    text-decoration: underline;
  }
  
  /* ===== BUTTONS AND CONTROLS ===== */
  /* Standard buttons */
  button, .btn, .control-button, .claude-source-button {
    color: #222222 !important;
    font-weight: 600;
    border-color: #777777;
  }
  
  /* Primary buttons with reverse contrast */
  .btn-primary, 
  .claude-source-button-primary, 
  .claude-submit-button {
    color: #ffffff !important; /* White text */
    background-color: #0056b3; /* Accessible blue background */
    font-weight: 600;
    border-color: #0056b3;
  }
  
  /* Sources toggle button - enhanced for better usability */
  .claude-sources-toggle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 8px 12px;
    margin-top: 10px;
    background-color: #f5f5f5;
    border: 1px solid #777777;
    border-radius: 6px;
    color: #0056b3;
    font-weight: 600;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  }
  
  .claude-sources-toggle:hover {
    background-color: #e8f0fe;
    transform: translateY(-1px);
    box-shadow: 0 2px 5px rgba(0,0,0,0.15);
  }
  
  .claude-sources-toggle:active {
    transform: translateY(0);
    box-shadow: 0 1px 2px rgba(0,0,0,0.1);
  }
  
  .claude-sources-toggle .claude-sources-toggle-icon {
    margin-right: 6px;
    font-size: 0.8rem;
    transition: transform 0.2s ease;
  }
  
  .claude-sources-toggle[data-active="true"] {
    background-color: #e8f0fe;
  }
  
  /* ===== FORM ELEMENTS ===== */
  /* Input text */
  input, textarea, select, .claude-input {
    color: #222222 !important;
    border-color: #777777;
  }
  
  /* ===== FOOTER ===== */
  /* Footer text - assume dark background */
  footer, footer a, .footer-bottom {
    color: #ffffff !important; /* White text */
    font-weight: 500;
  }
  
  /* ===== LAYOUT POSITIONING ===== */
  /* Fix the Input Area Positioning */
  .claude-input-area {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    width: 100%;
    background-color: white;
    padding: 10px 16px;
    z-index: 100;
    border-top: 1px solid #dddddd;
    box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
  }
  
  /* Form width */
  #chatForm {
    width: 100%;
    display: flex;
    flex-direction: column;
  }
  
  /* Reposition the "Clear Conversation" Button */
  .conversation-controls {
    position: relative;
    z-index: 99;
    display: flex;
    justify-content: center;
    width: 100%;
    padding: 10px 0;
    margin-top: 8px;
    background-color: white;
  }
  
  /* Control button visibility */
  .control-button {
    background-color: rgba(255, 255, 255, 0.95);
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    border: 1px solid #dddddd;
  }
  
  /* Messages Container Scrolling */
  .claude-messages {
    flex: 1;
    overflow-y: auto;
    padding: 1rem;
    padding-bottom: 100px; /* Reduced space for input + button */
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
  }

  .chat-section-wrapper {
    height: calc(100vh - 56px);
    display: flex;
    flex-direction: column;
    position: relative;
  }
  
  /* Sources Panel Keyboard Adjustments */
  body.keyboard-open .claude-sources-panel {
    position: absolute;
    top: 0;
    height: 100%;
    transform: translateX(100%);
    z-index: 50;
  }
  
  body.keyboard-open .claude-sources-panel.active {
    transform: translateX(0);
  }
  
  /* ===== ADDITIONAL ELEMENTS ===== */
  /* Example questions and suggestions */
  .example-questions li, .claude-suggestion {
    color: #222222 !important;
  }
  
  /* Content cards and info boxes */
  .content-card, .info-box, .page-intro {
    color: #222222 !important;
  }
  
  /* Stats and analytics text */
  .stat-label, .stat-value, .analytics-description {
    color: #222222 !important;
  }
  
  /* Welcome message */
  .claude-welcome h4, .claude-welcome p {
    color: #222222 !important;
  }
}
